# =========================================
# CONFIGURATION PRODUCTION OPTIMISÉE
# =========================================
spring.application.name=racines.moustaches
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=50MB
upload.directory=/Users/ylanwoelffle/IdeaProjects/dividiumDevBack/src/main/resources/img
spring.profiles.active=Prod
spring.main.lazy-initialization=true
spring.devtools.restart.enabled=false
server.port=8080
spring.main.allow-bean-definition-overriding=true

# =========================================
# DATABASE CONFIGURATION
# =========================================
spring.datasource.url=jdbc:postgresql://127.0.0.1:5432/aqualapindb
spring.datasource.username=web
spring.datasource.password=MCgWJ395yDJ5rojC
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=update
spring.main.allow-circular-references=true

# =========================================
# LOGGING CONFIGURATION - PRODUCTION
# =========================================
# ? ROOT LEVEL : WARN (minimal)
logging.level.root=WARN

# ? APPLICATION LEVEL : INFO only
logging.level.fr.app.dividiumdevback=INFO

# ? SPRING FRAMEWORK : WARN (supprime tous les logs debug)
logging.level.org.springframework=WARN
logging.level.org.springframework.security=WARN
logging.level.org.springframework.orm.jpa=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.cache=WARN

# ? HIBERNATE : WARN (supprime les requêtes SQL)
logging.level.org.hibernate=WARN
logging.level.org.hibernate.SQL=OFF
logging.level.org.hibernate.type.descriptor.sql=OFF
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=OFF

# ? JPA QUERIES : OFF (supprime complètement)
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.generate_statistics=false

# ? CACHE LOGGING : OFF
logging.level.org.ehcache=WARN
logging.level.net.sf.ehcache=WARN

# =========================================
# HIKARI CONNECTION POOL
# =========================================
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000

# =========================================
# JPA PERFORMANCE OPTIMIZATION
# =========================================
spring.jpa.properties.hibernate.jdbc.batch_size=30
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# =========================================
# MAIL CONFIGURATION
# =========================================
spring.mail.host=smtp-mail.outlook.com
spring.mail.port=587
spring.mail.username=divydium@outlook.com
spring.mail.password=rE9nyVUkzmgKbXV
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# =========================================
# SWAGGER CONFIGURATION
# =========================================
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs

# =========================================
# CLOUDFLARE CONFIGURATION
# =========================================
cloudflare.account.id=855cba84570ea62ec42d34ed6d01fe8d
cloudflare.api.token=S78ueGrl4H2d3m9ZIcv-pF32svZ6qBTcrImMhhtt

# =========================================
# LOGGING OUTPUT CONFIGURATION
# =========================================
# ? Console pattern simple (pas de couleurs en production)
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ? Limitation des logs (si vous utilisez un fichier)
logging.file.max-size=10MB
logging.file.max-history=3
